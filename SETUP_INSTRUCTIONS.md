# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ YoVPN –±–æ—Ç–∞

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í —Ñ–∞–π–ª–µ `.env` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã placeholder –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω Marzban –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Marzban –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Swagger UI: `https://your-marzban-domain.com/docs`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"**
4. –í–≤–µ–¥–∏—Ç–µ:
   - **Username:** –≤–∞—à –∞–¥–º–∏–Ω –ª–æ–≥–∏–Ω
   - **Password:** –≤–∞—à –∞–¥–º–∏–Ω –ø–∞—Ä–æ–ª—å
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`)

### 3. **–û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª .env**

–ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `.env` –Ω–∞:

```bash
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
USERBOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê_–ó–î–ï–°–¨

# Marzban API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MARZBAN_API_URL=https://alb-vpnprimex.duckdns.org/api
MARZBAN_ADMIN_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_MARZBAN_–ó–î–ï–°–¨

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATA_FILE=data.json

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO
LOG_FILE=bot.log

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=your_secret_key_here
RATE_LIMIT_RPM=60
RATE_LIMIT_RPH=1000

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SENTRY_DSN=
PROMETHEUS_PORT=8000

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
REDIS_URL=redis://localhost:6379

# –ü–ª–∞—Ç–µ–∂–∏
DAILY_COST=4.0
MIN_BALANCE_WARNING=8.0

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
ADMIN_TELEGRAM_ID=
NOTIFICATION_ENABLED=true
```

### 4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**

```bash
python3 check_and_fix_config.py
```

### 5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**

```bash
python3 main_improved.py
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–µ —Ç–æ–∫–µ–Ω—ã, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é:

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
sed -i 's/USERBOT_TOKEN=.*/USERBOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê/' .env

# –û–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω Marzban
sed -i 's/MARZBAN_ADMIN_TOKEN=.*/MARZBAN_ADMIN_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_MARZBAN/' .env
```

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–∞–º–∏** - –æ–Ω–∏ –¥–∞—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –±–æ—Ç—É –∏ Marzban
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL Marzban** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `https://alb-vpnprimex.duckdns.org/api` –¥–æ—Å—Ç—É–ø–µ–Ω
3. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** —Ñ–∞–π–ª–∞ `.env` –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ `.env` —Ñ–∞–π–ª–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Marzban API
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 check_and_fix_config.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –õ–æ–≥–∏ –±–æ—Ç–∞ –≤ —Ñ–∞–π–ª–µ `bot.log`
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Marzban API
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤