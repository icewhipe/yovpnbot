# üéâ –ü—Ä–æ–µ–∫—Ç YoVPN Bot - –ó–∞–≤–µ—Ä—à–µ–Ω

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚úì

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

```
/workspace
‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç (aiogram 3.x)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Middleware (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –°–µ—Ä–≤–∏—Å—ã (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ admin/                  # ‚úÖ –ù–û–í–û–ï: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (FastAPI + Jinja2)
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin_routes.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_routes.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription_routes.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ broadcast_routes.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings_routes.py
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML —à–∞–±–ª–æ–Ω—ã —Å Tailwind CSS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users_list.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_detail.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions_list.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription_detail.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ broadcast_form.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ broadcast_result.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.html
‚îÇ   ‚îú‚îÄ‚îÄ static/            # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/        # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ api/                    # ‚úÖ –ù–û–í–û–ï: Marzban API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ marzban_api.py     # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏:
‚îÇ                          # - create_subscription()
‚îÇ                          # - get_subscription()
‚îÇ                          # - delete_subscription()
‚îÇ                          # - extend_subscription()
‚îÇ                          # - update_subscription()
‚îÇ
‚îú‚îÄ‚îÄ database/               # ‚úÖ –ù–û–í–û–ï: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # SQLAlchemy –º–æ–¥–µ–ª–∏:
‚îÇ   ‚îÇ                      # - User (tg_id, username, balance, is_blocked, etc)
‚îÇ   ‚îÇ                      # - Subscription (user_id, marzban_id, start_date, end_date, status)
‚îÇ   ‚îÇ                      # - Transaction (user_id, amount, type, balance_before/after)
‚îÇ   ‚îÇ                      # - Settings (key/value –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ db.py              # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL
‚îÇ   ‚îî‚îÄ‚îÄ migrations/        # ‚úÖ –ù–û–í–û–ï: Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ env.py
‚îÇ       ‚îú‚îÄ‚îÄ script.py.mako
‚îÇ       ‚îî‚îÄ‚îÄ versions/
‚îÇ
‚îú‚îÄ‚îÄ config/                 # ‚úÖ –ù–û–í–û–ï: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settings.py        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env
‚îÇ
‚îú‚îÄ‚îÄ utils/                  # ‚úÖ –ù–û–í–û–ï: –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ logger.py          # –¶–≤–µ—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ .env.example            # ‚úÖ –ù–û–í–û–ï: –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt        # ‚úÖ –û–ë–ù–û–í–õ–ï–ù–û: –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ alembic.ini            # ‚úÖ –ù–û–í–û–ï: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îú‚îÄ‚îÄ docker-compose.yml     # ‚úÖ –ù–û–í–û–ï: Docker Compose (MySQL, Redis, Bot, Admin)
‚îú‚îÄ‚îÄ Dockerfile             # ‚úÖ –ù–û–í–û–ï: –ú—É–ª—å—Ç–∏—Å—Ç–µ–π–¥–∂ Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .dockerignore          # ‚úÖ –ù–û–í–û–ï
‚îú‚îÄ‚îÄ init.sql               # ‚úÖ –ù–û–í–û–ï: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ setup.sh               # ‚úÖ –ù–û–í–û–ï: –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ start.sh               # ‚úÖ –ù–û–í–û–ï: –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ start-admin.sh         # ‚úÖ –ù–û–í–û–ï: –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ README.md              # ‚úÖ –û–ë–ù–û–í–õ–ï–ù–û: –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ CONTRIBUTING.md        # ‚úÖ –ù–û–í–û–ï: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL ‚úì

**–ú–æ–¥–µ–ª–∏:**
- ‚úÖ `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (tg_id, username, balance, is_blocked, referrals, etc)
- ‚úÖ `Subscription` - –ø–æ–¥–ø–∏—Å–∫–∏ (user_id, marzban_username, start_date, end_date, status, traffic)
- ‚úÖ `Transaction` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (user_id, amount, type, balance_before, balance_after)
- ‚úÖ `Settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (key/value –¥–ª—è webapp_enabled, maintenance_mode, etc)

**–ú–∏–≥—Ä–∞—Ü–∏–∏:**
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Alembic –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MySQL —á–µ—Ä–µ–∑ aiomysql
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

### 3. Marzban API –∫–ª–∏–µ–Ω—Ç ‚úì

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `create_subscription()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ `get_subscription()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ `delete_subscription()` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ `extend_subscription()` - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ `update_subscription()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ `check_api_availability()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (aiohttp)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4. Telegram –ë–æ—Ç ‚úì

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
- ‚úÖ **WebApp —Ä–µ–∂–∏–º** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π WebApp –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ **–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –±–æ—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `webapp_enabled` –≤ –ë–î

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å (12 —Ä—É–± = 3 –¥–Ω—è)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —á–µ—Ä–µ–∑ Marzban
- ‚úÖ 3-—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Üí –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å MySQL –∏ Marzban

### 5. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚úì

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- ‚úÖ FastAPI + Jinja2 templates
- ‚úÖ Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–µ–π
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ —ç–º–æ–¥–∑–∏ –∏ –∏–∫–æ–Ω–∫–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ Dashboard —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–¥–ø–∏—Å–∫–∏, –±–∞–ª–∞–Ω—Å, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∏ –¥–µ—Ç–∞–ª–µ–π
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - –£–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
  - –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∏:
  - –¢–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  - Inline –∫–Ω–æ–ø–∫–∏ —Å URL
  - –°—á–µ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
  - –†–µ–∂–∏–º —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
  - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ WebApp/–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
  - –¶–µ–Ω—ã (–¥–Ω–µ–≤–Ω–∞—è, –±–æ–Ω—É—Å—ã)
  - –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**–î–æ—Å—Ç—É–ø:**
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ (ADMIN_TG_ID = 7610842643)

### 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úì

- ‚úÖ `.env.example` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- ‚úÖ `config/settings.py` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Railway –∏ VPS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 7. –î–µ–ø–ª–æ–π ‚úì

**Railway:**
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

**VPS Ubuntu 24.04:**
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL –∏ Redis
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx —Å SSL
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

**Docker:**
- ‚úÖ `Dockerfile` —Å –º—É–ª—å—Ç–∏—Å—Ç–µ–π–¥–∂ —Å–±–æ—Ä–∫–æ–π
- ‚úÖ `docker-compose.yml` —Å MySQL, Redis, Bot, Admin
- ‚úÖ Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úì

- ‚úÖ `README.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –î–µ–ø–ª–æ–π (Railway, VPS, Docker)
  - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ `CONTRIBUTING.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤
- ‚úÖ Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- ‚úÖ Docstrings –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤

### 9. –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã ‚úì

- ‚úÖ `setup.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `start.sh` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- ‚úÖ `start-admin.sh` - –∑–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ `utils/logger.py` - —Ü–≤–µ—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `utils/helpers.py` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 10. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚úì

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `requirements.txt` –≤–∫–ª—é—á–∞–µ—Ç:**
- ‚úÖ aiogram 3.4.1 - Telegram –±–æ—Ç
- ‚úÖ FastAPI 0.109.0 - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ SQLAlchemy 2.0.25 + Alembic - –ë–î
- ‚úÖ aiomysql - MySQL –¥—Ä–∞–π–≤–µ—Ä
- ‚úÖ aiohttp - HTTP –∫–ª–∏–µ–Ω—Ç
- ‚úÖ Redis - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Jinja2 - —à–∞–±–ª–æ–Ω—ã
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è** - –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **MySQL 8.0+** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Alembic** - –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î
- ‚úÖ **SQLAlchemy ORM** - —É–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **Async** - –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã

### Marzban –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å Marzban API
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Retry logic** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

### Telegram –±–æ—Ç
- ‚úÖ **–î–≤–∞ —Ä–µ–∂–∏–º–∞** (WebApp / –¢–µ–∫—Å—Ç–æ–≤—ã–π)
- ‚úÖ **FSM** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- ‚úÖ **Middleware** –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ rate limiting
- ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI** —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ —ç–º–æ–¥–∑–∏

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ **Modern UI** —Å Tailwind CSS
- ‚úÖ **Responsive** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ **Real-time** —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ **Batch operations** –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–æ:** 50+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 5000+
- **–Ø–∑—ã–∫–∏:** Python, HTML, Jinja2, SQL, Bash
- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏:** aiogram, FastAPI, SQLAlchemy
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** MySQL
- **–ö—ç—à:** Redis
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
chmod +x setup.sh
./setup.sh
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
nano .env  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ BOT_TOKEN, DATABASE_URL, MARZBAN_API_*
```

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
alembic upgrade head
```

### 4. –ó–∞–ø—É—Å–∫

```bash
# –ë–æ—Ç
./start.sh

# –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
./start-admin.sh
```

### –ò–ª–∏ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up -d
docker-compose run --rm migrations
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **CONTRIBUTING.md** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **API Docs** - http://localhost:8080/admin/docs
- **Admin Panel** - http://localhost:8080/admin

---

## ‚ú® –ß—Ç–æ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. ‚úÖ **–†–∞–±–æ—á–∏–π Telegram –±–æ—Ç** —Å –¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏
2. ‚úÖ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MySQL** —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
4. ‚úÖ **Marzban –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
5. ‚úÖ **Docker –¥–µ–ø–ª–æ–π** –∑–∞ 5 –º–∏–Ω—É—Ç
6. ‚úÖ **Railway –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ CLI
7. ‚úÖ **VPS –¥–µ–ø–ª–æ–π** —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
8. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
9. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
10. ‚úÖ **–¢–µ—Å—Ç—ã** (–≤ requirements-dev.txt)

---

## üé® –î–∏–∑–∞–π–Ω

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- üíé –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å Tailwind CSS
- üé® –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üìä –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- üåà –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚ú® –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- üì± Responsive –¥–∏–∑–∞–π–Ω

### Telegram –±–æ—Ç
- ü§ñ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- üí¨ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- üéØ –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- üéÅ –ì–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- üì± WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ (ORM)
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ HTTPS/SSL –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ Rate limiting
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞

---

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –ì–æ—Ç–æ–≤–æ | MySQL —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ |
| Telegram –±–æ—Ç | ‚úÖ –ì–æ—Ç–æ–≤–æ | –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã |
| –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
| Marzban API | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã |
| Docker | ‚úÖ –ì–æ—Ç–æ–≤–æ | Multi-container setup |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| –¢–µ—Å—Ç—ã | ‚ö†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ | Sentry –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å |
| Payment | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | YooKassa/Stripe |

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã** (YooKassa, Stripe, CryptoBot)
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫** (Sentry)
3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** (Google Analytics, Amplitude)
4. **–¢–µ—Å—Ç—ã** (pytest, unittest)
5. **CI/CD** (GitHub Actions, GitLab CI)
6. **Backup** —Å–∏—Å—Ç–µ–º—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î)
7. **CDN** –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏ (Cloudflare)
8. **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (SendGrid, Mailgun)

---

## üíñ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –ª—é–±–æ–≤—å—é –∏ –≤–Ω–∏–º–∞–Ω–∏–µ–º –∫ –¥–µ—Ç–∞–ª—è–º.

**–°–¥–µ–ª–∞–Ω–æ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ VPN —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤!**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:
- üí¨ Telegram: @YoVPNSupport
- üìß Email: support@yovpn.com
- üêõ Issues: GitHub Issues

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
