{
  "name": "telegram-bot",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "../Dockerfile"
  },
  "deploy": {
    "startCommand": "python bot/main.py",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "env": {
    "TELEGRAM_BOT_TOKEN": {
      "description": "Telegram Bot Token from @BotFather",
      "required": true
    },
    "MARZBAN_API_URL": {
      "description": "Marzban API URL",
      "required": true
    },
    "MARZBAN_USERNAME": {
      "description": "Marzban Admin Username",
      "required": true
    },
    "MARZBAN_PASSWORD": {
      "description": "Marzban Admin Password",
      "required": true
    },
    "SECRET_KEY": {
      "description": "Secret key for encryption",
      "required": true
    },
    "REDIS_URL": {
      "description": "Redis connection URL",
      "default": "${{Redis.REDIS_URL}}"
    },
    "SQLALCHEMY_DATABASE_URL": {
      "description": "Database URL",
      "default": "sqlite:///data/bot.db"
    },
    "PYTHONUNBUFFERED": {
      "default": "1"
    },
    "PYTHONDONTWRITEBYTECODE": {
      "default": "1"
    }
  }
}
